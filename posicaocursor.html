<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 5</title>
</head>
<body>
    <p id= "p">Posição do mouse: (0;0)</p>
    <p id= "v">Velocidade do movimento: 0</p>
    <script type="text/javascript">
        var x = 0;
        var y = 0;
        var antigoX = 0;
        var antigoY = 0;
        var h = performance.now();

        function mover(event){            
            x = event.clientX;
            y = event.clientY;
            var z = velocidade(x,y);
            document.getElementById("p").innerHTML = "Posição do mouse: ("+ x +";" + y +")";
            document.getElementById("v").innerHTML = "Velocidade do movimento: " + z + "px/ms";

            var antigoX = x;
            var antigoY = y;
            h = performance.now();
        }
        function velocidade(atualx, atualy){
           var distanciaX = atualx - antigoX;
           var distanciaY = atualy - antigoY;
           var distancia = (distanciaX*distanciaX + distanciaY*distanciaY)**1/2;
           var tempo = performance.now() - h;
           var vel = (distancia/tempo).toFixed(2);
           return vel;
        }
        document.addEventListener('mousemove', mover);
    </script>
</body>
</html>